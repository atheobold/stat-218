---
title: 'Midterm 2: Inference for numerical data'
format: 
  html:
    self-contained: true
editor: visual
execute: 
  echo: false
  warning: false
  message: false
---

```{r setup}
#| include: false
library(tidyverse)
library(mosaic)
library(infer)
```

## Investigating hours worked

For this exam, we'll be working with data from Midterm 1 --- the General Social Survey (GSS). The GSS is a high-quality survey which gathers data on American society and opinions, conducted since 1972. This data set is a sample of 500 entries from the GSS, spanning years 1973-2018, including demographic markers and some economic variables.

```{r load-data}
GSS <- read_csv(here::here("two_days", 
                           "Week 8 - One Cat Inference & Midterm 2", 
                           "midterm 2",
                           "group", 
                           "data",
                           "GSS_clean.csv"
                           )
                ) 

GSS <- read_csv(here::here("data", 
                           "gss.csv"
                           )
                )
```

## Investigating Education & Spousal Education

You've explored these data before in Midterm 1, investigating the relationship between the highest year of school a person's spouse completed and their own education. For this exam, we will investigate if the highest year of school a person completed (`highest_year_of_school_completed`) differs based on their political party
(`political_party_affiliation`). 

## Exploring the Data

Click on the GSS dataset in your Environment window (upper righthand corner) to open up a preview of the datset. 

__1. Using the data preview, identify the observational units in this data set.__


__3. How many observations are included in this sample?__


## Exploratory Data Analysis

We will first start by analyzing the weight of the participants in kilograms. 
This is recorded in the variable `weight`.

### Visualizing the Distribution of Highest Year of School 

__4. Create a histogram visualizing the distribution of the highest year of school completed for this sample.__
*Extra Credit:* Select a binwidth that makes the histogram look as continuous as
possible!

```{r education-histogram}
## Code to make a histogram of the weights goes here!


```

### Summarizing Education

__5. Using the favstats() function, find summary statistics for the highest year of school completed for this sample.__

```{r weight-favstats}
## Code to find summary statistics of the weights goes here!


```

__6.  How many observations are we missing the highest year of school completed from?__


### Comparing Highest Year of Education Across Political Parties

Next, we will consider the possible relationship between a person's political party and the number of years of school they completed. 

For our investigation, we will focus on comparing Republicans and Democrats, so we need to remove the Independents from our dataset. 

Run the code below to remove the Independent voters from our dataset!

```{r create new var}
GSS <- GSS |> 
  filter(political_party_affiliation != "Independent")
```

### Visualizing Distributions of Weight between Activity Groups

Now, we can use the `physical_3plus` variable to visualize the distribution of
weights between the two activity groups. 

__7. Complete the code below to created faceted histograms of the distribution of weights between the two physically active groups.__
*Extra Credit:* Select a binwidth that makes the histograms look as continuous
as possible!

```{r faceted-histograms-weight}
ggplot(data = YRBSS, 
       mapping = aes(x = ____)) + 
  ____ + 
  facet_wrap(~ ____)
```

__8. Describe the relationship between the amount of exercise a high schooler gets and their weight. Is this the relationship you expected to see?__


### Summarizing the Differences in Mean Weight

__9. Use the favstats() function to find summary statistics for the weight for each group of the `physical_3plus` variable.__

```{r weight-favstats-groups}
favstats(____ ~ ____, data = YRBSS)
```

__10. What is the observed difference in mean weight between the "yes" and "no" groups?__



## Statistical Inference

__11.  Write the hypotheses for testing if the average weights for high schoolers who exercise at least three days a week different from those who don't.__

*H0:* 

*HA:* 

__12. Evaluate if you believe any of the *three* conditions required for using the t-distribution to obtain our p-value are violated.__




__13. Complete the code below to find the p-value for testing if the average weights for high schoolers who exercise at least three days a week are different from those who don't.__

```{r t-test}
t_test(YRBSS, 
       response = ____, 
       explanatory = ____, 
       order = c("yes", "no"), 
       alternative = ____)
```

__14. Based on the p-value you obtained, what conclusion would you reach for the hypotheses you stated in #11?__


